{% extends 'sendall/base.html' %}
{% load static %}

{% block nav_header %}
<h1 class='page-title'>Session {{ session.name }}</h1>
{% endblock %}

{% block content %}
<div class="container-fluid">
	<div class="row justify-content-center">
		<div class="col-sm-12 col-md-5">
			<div id="dials" class="fixed-card card-shadow">
				<button class="btn btn-lg btn-outline-primary btn-block" target="#chats-contacts" id="collapsing_button">Chats and contacts list</button>
				<div id="chats-contacts">
					<button class="btn btn-light btn-block" id="chat-hideshow">Show/hide dialogs</button>
					<div class="d-flex flex-row show">
						<div id="vue-dialogs"></div>
						<div id="vue-contacts-list"></div>
					</div>
				</div>
			</div>
		<div id="white-list"></div>
	</div>
		<div class="col-sm-12 col-md-7" id="right-card">
			<div id="vue-message"></div>
			<div id="scheduled"></div>
		</div>
	</div>
  <div class="flex justify-content-center mb-2">
    <ul class="nav nav-pills flex justify-content-center" id="pills-tab" role="tablist">
      <li class="nav-item">
        <a class="nav-link active" id="pills-sched-tab" data-toggle="pill" href="#pills-home" role="tab" aria-controls="pills-home" aria-selected="true">Scheduled messages page</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="pills-reply-tab" data-toggle="pill" href="#pills-profile" role="tab" aria-controls="pills-profile" aria-selected="false">Reply messages page</a>
      </li>
    </ul>
  </div>
	<div class="modal" id="not-logged-modal" tabindex="-1" role="dialog">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Session not valid</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<p>The access to your account cannot be gained. Maybe you accidentally ended your session via official Telegram app.</p>
					<p>You need to relogin to your Telegram account to continue.</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					<a type="button" class="btn btn-primary" role="button" href="{% url 'add-session' %}">Relogin</a>
				</div>
			</div>
		</div>
	</div>

</div>

{% endblock %}

{% block js %}
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<!-- Better to use specific version for production -->
<script src="https://cdn.jsdelivr.net/npm/vue@2.7.8"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.0-alpha14/js/tempusdominus-bootstrap-4.min.js"></script>

<!-- <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" -->
<!--     integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"> -->
<!-- </script> -->
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" -->
<!--     integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"> -->
<!-- </script> -->
<!---->
<!-- <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" crossorigin="anonymous"></script> -->
<!-- <!-- Tempus Dominus JavaScript --> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/@eonasdan/tempus-dominus@6.7.7/dist/js/tempus-dominus.min.js" crossorigin="anonymous"></script> -->
<!---->
<!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script> -->

<script>
  var csrfToken = '{{ csrf_token }}';
</script>

<script src="{% static 'sendall/js/axios.min.js' %}"></script>
<script src="{% static 'sendall/js/session_detail.js' %}"></script>
<script src="{% static 'sendall/js/scheduled_messages.js' %}"></script>
<script src="{% static 'sendall/js/white-list.js' %}"></script>

{% endblock %}

